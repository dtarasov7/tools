–ö–∞–∫ —Å –ø–æ–º–æ—â—å—é setcap –ø–æ–∑–≤–æ–ª–∏—Ç—å –∑–∞–¥–∞—á–µ, –∑–∞–ø—É—â–µ–Ω–æ–π –æ—Ç –Ω–µ–ø—Ä–∏–≤–µ–ª–∏–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö —Å –ø–æ–º–æ—â—å—é ps –∏ –ø–æ—Å—ã–ª–∞—Ç—å —Å–∏–≥–Ω–∞–ª 1 –ª—é–±–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É
ChatGPT —Å–∫–∞–∑–∞–ª:
üìå –ö–∞–∫ —Å –ø–æ–º–æ—â—å—é setcap –¥–∞—Ç—å –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∞–≤–∞ –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–∏–≥–Ω–∞–ª–∞ SIGHUP (1) –ª—é–±–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É?
üöÄ –¶–µ–ª—å: –ü–æ–∑–≤–æ–ª–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—É, –∑–∞–ø—É—â–µ–Ω–Ω–æ–º—É –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤—ã–ø–æ–ª–Ω—è—Ç—å:
‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ —á–µ—Ä–µ–∑ ps (–∞–Ω–∞–ª–æ–≥ ps aux)
‚úÖ –û—Ç–ø—Ä–∞–≤–∫—É —Å–∏–≥–Ω–∞–ª–∞ SIGHUP (1) –ª—é–±–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É

‚úÖ 1. –†–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (ps aux)
üìå –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤ Linux –≤–∫–ª—é—á–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ hidepid=2, –∏–∑-–∑–∞ —á–µ–≥–æ –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç —á—É–∂–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã.

üîπ –°–ø–æ—Å–æ–± 1: –û—Ç–∫–ª—é—á–∏—Ç—å hidepid –≤ /proc (—Å–∏—Å—Ç–µ–º–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)
bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
sudo mount -o remount,hidepid=0 /proc
üîπ –ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º, –¥–æ–±–∞–≤–ª—è–µ–º –≤ /etc/fstab:

conf
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
proc /proc proc defaults,hidepid=0 0 0
‚úÖ –¢–µ–ø–µ—Ä—å –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ ps.

üîπ –°–ø–æ—Å–æ–± 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ setcap –¥–ª—è ps (—Ç–æ—á–µ—á–Ω–æ)
–ï—Å–ª–∏ hidepid=2 –≤–∫–ª—é—á—ë–Ω, –Ω–æ –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å ps –≤–∏–¥–µ—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –±–µ–∑ —Å–Ω—è—Ç–∏—è –∑–∞—â–∏—Ç—ã, –º–æ–∂–Ω–æ –¥–∞—Ç—å ps –Ω—É–∂–Ω—ã–µ Capabilites:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
sudo setcap cap_sys_ptrace+ep $(which ps)
üîπ –¢–µ–ø–µ—Ä—å –ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –¥–∞–∂–µ –µ—Å–ª–∏ hidepid=2 –∞–∫—Ç–∏–≤–Ω–æ.

‚úÖ 2. –†–∞–∑—Ä–µ—à–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É SIGHUP (1) –ª—é–±–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É
üìå –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–∏–≥–Ω–∞–ª—ã —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º. –ß—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É SIGHUP (–∏ –¥—Ä—É–≥–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤) –ª—é–±–æ–π –∑–∞–¥–∞—á–µ, –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å cap_kill.

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
sudo setcap cap_kill+ep /usr/bin/kill
üîπ –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å SIGHUP (kill -1 PID) –ª—é–±–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É –≤ —Å–∏—Å—Ç–µ–º–µ.

‚úÖ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
kill -1 1234  # –û—Ç–ø—Ä–∞–≤–∏—Ç SIGHUP –ø—Ä–æ—Ü–µ—Å—Å—É 1234
üìå –ò—Ç–æ–≥
‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (ps aux):

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
sudo setcap cap_sys_ptrace+ep $(which ps)
‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ SIGHUP –ª—é–±–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É (kill -1 PID):

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
sudo setcap cap_kill+ep /usr/bin/kill
üöÄ –¢–µ–ø–µ—Ä—å –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏–º —Å–∏–≥–Ω–∞–ª—ã!
üí° –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ –Ω—É–∂–Ω–∞ –¥—Ä—É–≥–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ‚Äî —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ! 
