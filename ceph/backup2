–î–∞, –≤—ã –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–Ω–∏–º–∞–µ—Ç–µ! –ö–æ–º–∞–Ω–¥–∞:

```bash
rclone sync ceph-s3:$bucket $BACKUP_PATH/$bucket --progress
```

–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –±–∞–∫–µ—Ç–∞ –≤ S3 (Ceph RGW) –∏ –ª–æ–∫–∞–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ `srvbackup`. **Rclone** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `rclone sync`
1. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:**
   - Rclone —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ñ–∞–π–ª—ã –≤ –±–∞–∫–µ—Ç–µ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ:
     - –ò–º–µ–Ω–∏ —Ñ–∞–π–ª–∞.
     - –†–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–∞.
     - –î–∞—Ç–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ).

2. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
   - –ï—Å–ª–∏ —Ñ–∞–π–ª –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ S3, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, Rclone —Å–∫–æ–ø–∏—Ä—É–µ—Ç –µ–≥–æ.
   - –ï—Å–ª–∏ —Ñ–∞–π–ª –∏–∑–º–µ–Ω–∏–ª—Å—è (—Ä–∞–∑–º–µ—Ä –∏–ª–∏ –¥–∞—Ç–∞ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏), Rclone –∑–∞–º–µ–Ω–∏—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é.
   - –ï—Å–ª–∏ —Ñ–∞–π–ª —É–¥–∞–ª—ë–Ω –∏–∑ S3, Rclone —É–¥–∞–ª–∏—Ç –µ–≥–æ –∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

3. **–ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
   - –§–ª–∞–≥ `--progress` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –≤–∫–ª—é—á–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –∏ –æ–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö.

---

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `rclone sync`
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**
  - –ü–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –∏–ª–∏ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, —á—Ç–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ç—å.
- **–ò–¥–µ–Ω—Ç–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
  - –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è –±—É–¥–µ—Ç —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—é –±–∞–∫–µ—Ç–∞ –≤ S3.
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ:**
  - –£–¥–∞–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ S3 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏, –µ—Å–ª–∏ –æ–Ω–∏ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã.

---

### –í–∞–∂–Ω—ã–µ —Ñ–ª–∞–≥–∏ –¥–ª—è `rclone sync`
1. **–û—Ç–∫–ª—é—á–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:**
   –ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª—è—Ç—å —Ñ–∞–π–ª—ã –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑ S3, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `--ignore-deletes`:
   ```bash
   rclone sync ceph-s3:$bucket $BACKUP_PATH/$bucket --progress --ignore-deletes
   ```

2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π —Ñ–∞–π–ª–æ–≤:**
   –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `--backup-dir`:
   ```bash
   rclone sync ceph-s3:$bucket $BACKUP_PATH/$bucket --progress --backup-dir /srv/backup/old_versions
   ```

3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:**
   –ß—Ç–æ–±—ã –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ç—å:
   ```bash
   rclone sync ceph-s3:$bucket $BACKUP_PATH/$bucket --progress --bwlimit 10M
   ```

---

### –ò—Ç–æ–≥
–î–∞, –∫–æ–º–∞–Ω–¥–∞ `rclone sync` –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏: –æ–Ω–∞ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –æ–±—ä—ë–º –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å —Å S3 –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –µ—ë —É–¥–æ–±–Ω—ã–º –≤—ã–±–æ—Ä–æ–º –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Ceph RGW. üòä