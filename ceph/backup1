–í—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤—ã! –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ `bucket1` ... `bucket8` –Ω–µ –º–µ–Ω—è—é—Ç—Å—è, –∏—Ö –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –∏ –∏—Å–∫–ª—é—á–∏—Ç—å –∏–∑ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è. –≠—Ç–æ —É–º–µ–Ω—å—à–∏—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ç—å –∏ —Å–µ—Ä–≤–µ—Ä, –∞ —Ç–∞–∫–∂–µ —É—Å–∫–æ—Ä–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.

---

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –ü–ª–∞–Ω –†–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

#### **1. –†–∞–∑–æ–≤–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –±–∞–∫–µ—Ç–æ–≤ (`bucket1` ... `bucket8`)**
–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `/opt/backup/initial_static_backup.sh` –¥–ª—è –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

```bash
#!/bin/bash
BACKUP_PATH="/srv/backup/static"

# –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –±–∞–∫–µ—Ç—ã
for bucket in bucket1 bucket2 bucket3 bucket4 bucket5 bucket6 bucket7 bucket8; do
  echo "Starting initial backup for $bucket..."
  rclone sync ceph-s3:$bucket $BACKUP_PATH/$bucket --progress
done

echo "Initial static backup completed on $(date)" >> /var/log/rclone_static_backup.log
```

#### **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –æ–¥–∏–Ω —Ä–∞–∑ —á–µ—Ä–µ–∑ cron:
   ```bash
   bash /opt/backup/initial_static_backup.sh
   ```
2. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä:
   ```bash
   ls -lh /srv/backup/static/bucket1
   ```

---

#### **2. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –±–∞–∫–µ—Ç–æ–≤ –∏–∑ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è**
–¢–µ–ø–µ—Ä—å –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –±—É–¥–µ—Ç –≤–∫–ª—é—á–∞—Ç—å `bucket1` ... `bucket8`, –∞ —Å–∫—Ä–∏–ø—Ç `/opt/backup/backup_static.sh` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å.

---

#### **3. –ü–æ—á–∞—Å–æ–≤–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω—è–µ–º—ã—Ö –±–∞–∫–µ—Ç–æ–≤ (`bucket9`, `bucket10`)**
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–∞–∫–µ—Ç–æ–≤ –æ—Å—Ç–∞—ë—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```bash
#!/bin/bash
BACKUP_PATH="/srv/backup/dynamic"
DATE=$(date +%F_%H-%M)

# –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –±–∞–∫–µ—Ç—ã
for bucket in bucket9 bucket10; do
  echo "Starting incremental backup for $bucket..."
  rclone sync ceph-s3:$bucket $BACKUP_PATH/$bucket --progress
done

echo "Dynamic backup completed on $DATE" >> /var/log/rclone_dynamic_backup.log
```

---

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
1. **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:**
   - `bucket1` ... `bucket8` –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑, –∏–∑–±–µ–≥–∞—è –∏–∑–ª–∏—à–Ω–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ç—å –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
2. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
   - –ê–∫—Ç–∏–≤–Ω—ã–µ –±–∞–∫–µ—Ç—ã (`bucket9`, `bucket10`) –∫–æ–ø–∏—Ä—É—é—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç RPO –≤ 1 —á–∞—Å.
3. **–°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:**
   - –î–∞–Ω–Ω—ã–µ –≤ `bucket1` ... `bucket8` –Ω–µ —Ç—Ä–µ–±—É—é—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –∏—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é —Å —Å–µ—Ä–≤–µ—Ä–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.

---

–ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–º–æ—â—å —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö), –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å! üòä
